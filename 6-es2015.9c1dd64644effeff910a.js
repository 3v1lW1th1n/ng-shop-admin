(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{amxe:function(t,e,o){"use strict";o.r(e);var n=o("PCNd"),i=o("tyNb"),c=o("2qjx"),r=o("Dh3D"),a=o("+0xr"),p=o("3Pt+"),s=o("fXoL"),d=o("GHq2"),b=o("ofXK");function u(t,e){1&t&&(s.Tb(0,"h2",12),s.yc(1,"Add product"),s.Sb())}function l(t,e){1&t&&(s.Tb(0,"h2",12),s.yc(1,"Edit product"),s.Sb())}let m=(()=>{class t{constructor(t,e){this.fb=t,this.validatorsService=e,this.isEdit=!1,this.form=this.fb.group({name:["",p.n.required,this.validatorsService.nameValidator.bind(this.validatorsService)],description:["",p.n.required],price:["",p.n.required],status:["",p.n.required]})}set product(t){t&&(this.isEdit=!0,this.form.patchValue(t))}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(s.Nb(p.b),s.Nb(d.a))},t.\u0275cmp=s.Hb({type:t,selectors:[["app-products-dialog"]],inputs:{product:"product"},decls:25,vars:6,consts:[[1,"popup-wrapper",3,"formGroup"],[1,"product-form"],["class","product-form-title",4,"ngIf"],[1,"product-form-label"],["formControlName","name","type","text","placeholder","Product name",1,"product-form-input"],["formControlName","description","type","text","placeholder","Description",1,"product-form-input"],["min","1","formControlName","price","type","number","placeholder","Price",1,"product-form-input"],["formControlName","status",1,"product-form-select"],[3,"value"],[1,"btnWrapp"],[1,"btn-inv",3,"disabled","click"],[1,"btn-inv",3,"click"],[1,"product-form-title"]],template:function(t,e){1&t&&(s.Tb(0,"form",0),s.Tb(1,"div",1),s.xc(2,u,2,0,"h2",2),s.xc(3,l,2,0,"h2",2),s.Tb(4,"label",3),s.yc(5,"Product name"),s.Sb(),s.Ob(6,"input",4),s.Tb(7,"label",3),s.yc(8,"Description"),s.Sb(),s.Ob(9,"textarea",5),s.Tb(10,"label",3),s.yc(11,"Price"),s.Sb(),s.Ob(12,"input",6),s.Tb(13,"label",3),s.yc(14,"Status"),s.Sb(),s.Tb(15,"select",7),s.Tb(16,"option",8),s.yc(17,"Enabled"),s.Sb(),s.Tb(18,"option",8),s.yc(19,"Disabled"),s.Sb(),s.Sb(),s.Sb(),s.Tb(20,"div",9),s.Tb(21,"button",10),s.bc("click",(function(t){return e.save({isEdit:e.isEdit,value:e.form.value})})),s.yc(22," Save "),s.Sb(),s.Tb(23,"button",11),s.bc("click",(function(t){return e.close()})),s.yc(24,"Cancel"),s.Sb(),s.Sb(),s.Sb()),2&t&&(s.kc("formGroup",e.form),s.Cb(2),s.kc("ngIf",!e.isEdit),s.Cb(1),s.kc("ngIf",e.isEdit),s.Cb(13),s.kc("value",!0),s.Cb(2),s.kc("value",!1),s.Cb(3),s.kc("disabled",e.form.invalid))},directives:[p.p,p.h,p.d,b.k,p.a,p.g,p.c,p.k,p.m,p.j,p.o],styles:['.popup-wrapper[_ngcontent-%COMP%]{max-width:100%;-webkit-box-align:center;align-items:center;position:relative;text-align:center;padding:20px 30px 10px 10px;border-radius:10px;box-sizing:border-box;width:600px}.popup-wrapper[_ngcontent-%COMP%], .popup-wrapper[_ngcontent-%COMP%]   .product-form[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.popup-wrapper[_ngcontent-%COMP%]   .product-form[_ngcontent-%COMP%]{width:90%;-webkit-box-align:start;align-items:flex-start;-webkit-box-pack:justify;justify-content:space-between;margin:0 auto}.popup-wrapper[_ngcontent-%COMP%]   .product-form-title[_ngcontent-%COMP%]{font-weight:600;font-size:28px;line-height:36px;color:#90a0b7;margin:10px auto}.popup-wrapper[_ngcontent-%COMP%]   .product-form-label[_ngcontent-%COMP%]{font-weight:400;font-size:16px;line-height:20px;color:#707683;margin-bottom:8px;position:relative}.popup-wrapper[_ngcontent-%COMP%]   .product-form-label[_ngcontent-%COMP%]:before{content:"*";position:absolute;top:2px;right:-6px;font-size:17px;width:5px;height:5px;color:#ce4040}.popup-wrapper[_ngcontent-%COMP%]   .product-form-input[_ngcontent-%COMP%]{width:100%}.popup-wrapper[_ngcontent-%COMP%]   .product-form-input[_ngcontent-%COMP%], .popup-wrapper[_ngcontent-%COMP%]   .product-form-select[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #c2cfe0;border-radius:4px;padding:8px 12px;font-weight:400;font-size:16px;line-height:20px;color:#334d6e;outline:none;margin-bottom:15px}.popup-wrapper[_ngcontent-%COMP%]   .product-form-select[_ngcontent-%COMP%]{width:105%;height:38px}.popup-wrapper[_ngcontent-%COMP%]   .btnWrapp[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-box-pack:justify;justify-content:space-between;align-item:center;width:70%}']}),t})();var f=o("uwTH"),h=o("NFeN");function x(t,e){1&t&&(s.Tb(0,"th",16),s.yc(1,"Name"),s.Sb())}function w(t,e){if(1&t&&(s.Tb(0,"td",17),s.yc(1),s.Sb()),2&t){const t=e.$implicit;s.Cb(1),s.zc(t.name)}}function g(t,e){1&t&&(s.Tb(0,"th",16),s.yc(1,"Description"),s.Sb())}function C(t,e){if(1&t&&(s.Tb(0,"td",17),s.yc(1),s.Sb()),2&t){const t=e.$implicit;s.Cb(1),s.zc(t.description)}}function S(t,e){1&t&&(s.Tb(0,"th",16),s.yc(1,"Price"),s.Sb())}function y(t,e){if(1&t&&(s.Tb(0,"td",17),s.yc(1),s.Sb()),2&t){const t=e.$implicit;s.Cb(1),s.zc(t.price)}}function v(t,e){1&t&&(s.Tb(0,"th",16),s.yc(1,"Status"),s.Sb())}function k(t,e){if(1&t&&(s.Tb(0,"td",17),s.yc(1),s.Sb()),2&t){const t=e.$implicit;s.Cb(1),s.zc(t.status)}}function P(t,e){1&t&&s.Ob(0,"th",16)}function O(t,e){if(1&t){const t=s.Ub();s.Tb(0,"td",17),s.Tb(1,"mat-icon",18),s.bc("click",(function(o){s.rc(t);const n=e.$implicit;return s.fc().editProduct(n)})),s.yc(2,"edit"),s.Sb(),s.Tb(3,"mat-icon",18),s.bc("click",(function(o){s.rc(t);const n=e.$implicit;return s.fc().deleteProduct(n)})),s.yc(4,"delete"),s.Sb(),s.Sb()}}function _(t,e){1&t&&s.Ob(0,"tr",19)}function T(t,e){1&t&&s.Ob(0,"tr",20)}const M=[{path:"",component:(()=>{class t{constructor(t,e){this.productsService=t,this._modalService=e,this.displayedColumns=["name","description","price","status","controls"],this.dataSource=new a.k([])}set matSort(t){this.sort=t,this.dataSource.sort=this.sort}ngOnInit(){this.productsService.getProducts.subscribe(t=>{this.data=t,this.dataSource=new a.k(this.data)})}applyFilter(t){this.dataSource.filter=t.target.value.trim().toLowerCase()}deleteProduct(t){this.productsService.deleteProducts(t).subscribe(e=>{const o=this.data.findIndex(e=>e._id===t._id);this.data.splice(o,1),this.dataSource=new a.k(this.data)})}editProduct(t){this._modalService.open({component:m,context:{product:t,save:({isEdit:e,value:o})=>{if(e)return this.productsService.editProducts(Object.assign(Object.assign({},t),o)).subscribe(t=>{const e=this.data.findIndex(e=>e._id===t._id);this.data.splice(e,1,t),this.dataSource=new a.k(this.data)}),void this._modalService.close();this.productsService.addProducts(o).subscribe(t=>{this.data.push(t),this.dataSource=new a.k(this.data)}),this._modalService.close()},close:()=>{this._modalService.close()}}})}}return t.\u0275fac=function(e){return new(e||t)(s.Nb(c.a),s.Nb(f.a))},t.\u0275cmp=s.Hb({type:t,selectors:[["app-products"]],viewQuery:function(t,e){var o;1&t&&s.Bc(r.a,!0),2&t&&s.nc(o=s.cc())&&(e.matSort=o.first)},inputs:{product:"product"},features:[s.Bb([c.a])],decls:26,vars:3,consts:[[1,"products"],[1,"content-top-panel"],[1,"page-title"],[1,"btn",3,"click"],[1,"products-control"],[1,"products-table"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","description"],["matColumnDef","price"],["matColumnDef","status"],["matColumnDef","controls"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[1,"btn-edit",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(s.Tb(0,"div",0),s.Tb(1,"div",1),s.Tb(2,"h2",2),s.yc(3,"Products"),s.Sb(),s.Tb(4,"button",3),s.bc("click",(function(t){return e.editProduct()})),s.yc(5,"Add product"),s.Sb(),s.Sb(),s.Ob(6,"div",4),s.Tb(7,"div",5),s.Tb(8,"table",6),s.Rb(9,7),s.xc(10,x,2,0,"th",8),s.xc(11,w,2,1,"td",9),s.Qb(),s.Rb(12,10),s.xc(13,g,2,0,"th",8),s.xc(14,C,2,1,"td",9),s.Qb(),s.Rb(15,11),s.xc(16,S,2,0,"th",8),s.xc(17,y,2,1,"td",9),s.Qb(),s.Rb(18,12),s.xc(19,v,2,0,"th",8),s.xc(20,k,2,1,"td",9),s.Qb(),s.Rb(21,13),s.xc(22,P,1,0,"th",8),s.xc(23,O,5,0,"td",9),s.Qb(),s.xc(24,_,1,0,"tr",14),s.xc(25,T,1,0,"tr",15),s.Sb(),s.Sb(),s.Sb()),2&t&&(s.Cb(8),s.kc("dataSource",e.dataSource),s.Cb(16),s.kc("matHeaderRowDef",e.displayedColumns),s.Cb(1),s.kc("matRowDefColumns",e.displayedColumns))},directives:[a.j,r.a,a.c,a.e,a.b,a.g,a.i,a.d,r.b,a.a,h.a,a.f,a.h],styles:[".products[_ngcontent-%COMP%]{-webkit-box-orient:vertical;flex-direction:column;height:100%}.content-top-panel[_ngcontent-%COMP%], .products[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-direction:normal}.content-top-panel[_ngcontent-%COMP%]{-webkit-box-orient:horizontal;flex-direction:row;-webkit-box-pack:justify;justify-content:space-between;-webkit-box-align:center;align-items:center}table.mat-table[_ngcontent-%COMP%]{width:100%;margin:0 auto}.btn-edit[_ngcontent-%COMP%]{font-size:18px;cursor:pointer;margin:0 auto}"]}),t})()}];let D=(()=>{class t{}return t.\u0275mod=s.Lb({type:t}),t.\u0275inj=s.Kb({factory:function(e){return new(e||t)},imports:[[i.c.forChild(M)],i.c]}),t})();o.d(e,"ProductsModule",(function(){return j}));let j=(()=>{class t{}return t.\u0275mod=s.Lb({type:t}),t.\u0275inj=s.Kb({factory:function(e){return new(e||t)},imports:[[D,n.a],n.a]}),t})()}}]);