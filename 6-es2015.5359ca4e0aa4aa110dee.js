(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{amxe:function(t,e,c){"use strict";c.r(e);var i=c("PCNd"),r=c("tyNb"),o=c("2qjx"),b=c("3Pt+"),s=c("fXoL"),a=c("GHq2"),n=c("ofXK");function d(t,e){1&t&&(s.Ub(0,"h2",13),s.Bc(1,"Add product"),s.Tb())}function l(t,e){1&t&&(s.Ub(0,"h2",13),s.Bc(1,"Edit product"),s.Tb())}let u=(()=>{class t{constructor(t,e){this.fb=t,this.validatorsService=e,this.isEdit=!1,this.form=this.fb.group({name:["",b.n.required,this.validatorsService.nameValidator.bind(this.validatorsService)],description:["",b.n.required],price:["",b.n.required],category:["",b.n.required],status:["",b.n.required]})}set product(t){t&&(this.isEdit=!0,this.form.patchValue(t))}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(s.Ob(b.b),s.Ob(a.a))},t.\u0275cmp=s.Ib({type:t,selectors:[["app-products-dialog"]],inputs:{product:"product"},decls:30,vars:8,consts:[[1,"popup-wrapper",3,"formGroup"],[1,"product-form"],["class","product-form-title",4,"ngIf"],[1,"product-form-label"],["formControlName","name","type","text","placeholder","Product name",1,"product-form-input"],["formControlName","description","type","text","placeholder","Description",1,"product-form-input","textarea"],["min","1","formControlName","price","type","number","placeholder","Price",1,"product-form-input"],["formControlName","category",1,"product-form-select"],[3,"value"],["formControlName","status",1,"product-form-select"],[1,"btnWrapp"],[1,"btn-inv",3,"disabled","click"],[1,"btn-inv",3,"click"],[1,"product-form-title"]],template:function(t,e){1&t&&(s.Ub(0,"form",0),s.Ub(1,"div",1),s.Ac(2,d,2,0,"h2",2),s.Ac(3,l,2,0,"h2",2),s.Ub(4,"label",3),s.Bc(5,"Product name"),s.Tb(),s.Pb(6,"input",4),s.Ub(7,"label",3),s.Bc(8,"Description"),s.Tb(),s.Pb(9,"textarea",5),s.Ub(10,"label",3),s.Bc(11,"Price"),s.Tb(),s.Pb(12,"input",6),s.Ub(13,"label",3),s.Bc(14,"Category"),s.Tb(),s.Ub(15,"select",7),s.Ub(16,"option",8),s.Bc(17),s.Tb(),s.Tb(),s.Ub(18,"label",3),s.Bc(19,"Status"),s.Tb(),s.Ub(20,"select",9),s.Ub(21,"option",8),s.Bc(22,"Enabled"),s.Tb(),s.Ub(23,"option",8),s.Bc(24,"Disabled"),s.Tb(),s.Tb(),s.Tb(),s.Ub(25,"div",10),s.Ub(26,"button",11),s.cc("click",(function(t){return e.save({isEdit:e.isEdit,value:e.form.value})})),s.Bc(27," Save "),s.Tb(),s.Ub(28,"button",12),s.cc("click",(function(t){return e.close()})),s.Bc(29,"Cancel"),s.Tb(),s.Tb(),s.Tb()),2&t&&(s.lc("formGroup",e.form),s.Cb(2),s.lc("ngIf",!e.isEdit),s.Cb(1),s.lc("ngIf",e.isEdit),s.Cb(13),s.lc("value",!0),s.Cb(1),s.Cc(0),s.Cb(4),s.lc("value",!0),s.Cb(2),s.lc("value",!1),s.Cb(3),s.lc("disabled",e.form.invalid))},directives:[b.p,b.h,b.d,n.l,b.a,b.g,b.c,b.k,b.m,b.j,b.o],styles:[""]}),t})();var p=c("8BW4"),m=c("saQ5"),f=c("kt0X"),v=c("NFeN");function h(t,e){if(1&t){const t=s.Vb();s.Ub(0,"div",23),s.Ub(1,"div",20),s.Pb(2,"img",24),s.Tb(),s.Ub(3,"div",20),s.Bc(4),s.Tb(),s.Ub(5,"div",20),s.Bc(6),s.Tb(),s.Ub(7,"div",20),s.Bc(8),s.Tb(),s.Ub(9,"div",20),s.Bc(10,"111 "),s.Tb(),s.Ub(11,"div",20),s.Bc(12),s.Tb(),s.Ub(13,"div",25),s.Ub(14,"mat-icon",26),s.cc("click",(function(c){s.uc(t);const i=e.$implicit;return s.gc().editProduct(i)})),s.Bc(15,"edit"),s.Tb(),s.Ub(16,"mat-icon",26),s.cc("click",(function(c){s.uc(t);const i=e.$implicit;return s.gc().deleteProduct(i)})),s.Bc(17,"delete"),s.Tb(),s.Tb(),s.Tb()}if(2&t){const t=e.$implicit;s.Cb(2),s.mc("src",null==t.images[0]?null:t.images[0].url,s.vc),s.Cb(2),s.Dc(" ",t.name," "),s.Cb(2),s.Dc(" ",t.description," "),s.Cb(2),s.Dc(" ",t.price," "),s.Cb(4),s.Dc(" ",t.status," ")}}const T=[{path:"",component:(()=>{class t{constructor(t,e,c){this.productsService=t,this._modalService=e,this.store=c,this.displayedColumns=["name","description","price","status","category","controls"],this.data=[]}ngOnInit(){this.products$=this.store.select("products","items"),this.store.dispatch(Object(p.h)({}))}deleteProduct(t){this.productsService.deleteProducts(t).subscribe(e=>{const c=this.data.findIndex(e=>e._id===t._id);this.data.splice(c,1),this.products=this.data})}editProduct(t){console.log(t),this._modalService.open({component:u,context:{product:t,save:({isEdit:e,value:c})=>{if(e)return this.productsService.editProducts(Object.assign(Object.assign({},t),c)).subscribe(t=>{console.log(t);const e=this.data.findIndex(e=>e._id===t._id);this.data.splice(e,1,t),this.products=this.data}),void this._modalService.close();this.productsService.addProducts(c).subscribe(t=>{this.products.push(t)}),this._modalService.close()},close:()=>{this._modalService.close()}}})}}return t.\u0275fac=function(e){return new(e||t)(s.Ob(o.a),s.Ob(m.a),s.Ob(f.h))},t.\u0275cmp=s.Ib({type:t,selectors:[["app-products"]],inputs:{product:"product"},features:[s.Bb([o.a])],decls:56,vars:3,consts:[[1,"products-list",2,"background-color","var(--grey-skeleton)","margin","100px","height","calc(100vh - 200px)"],[1,"content__top-panel"],[1,"page-title"],["type","button",1,"button-primary",3,"click"],[1,"content-box","content-box_small"],[1,"form-inline"],[1,"form-group"],[1,"form-label"],["type","text","placeholder","Product name",1,"form-control"],["data-elem","sliderContainer",1,"form-group"],[1,"range-slider"],[1,"range-slider__inner"],[1,"range-slider__progress",2,"left","0%","right","0%"],[1,"range-slider__thumb-left",2,"left","0%"],[1,"range-slider__thumb-right",2,"right","0%"],["data-elem","filterStatus",1,"form-control"],["value","true","selected",""],["value","false"],[1,"sortable-table"],[1,"sortable-table__header","sortable-table__row"],[1,"sortable-table__cell"],["data-elem","body",1,"sortable-table__body"],["class","sortable-table__row",4,"ngFor","ngForOf"],[1,"sortable-table__row"],["alt","img",1,"sortable-table-image",3,"src"],[1,"sortable-table__cell","table__cell_controls"],[1,"btn-edit",3,"click"]],template:function(t,e){1&t&&(s.Ub(0,"div",0),s.Ub(1,"div",1),s.Ub(2,"h1",2),s.Bc(3," Products "),s.Tb(),s.Ub(4,"button",3),s.cc("click",(function(t){return e.editProduct()})),s.Bc(5," Add product "),s.Tb(),s.Tb(),s.Ub(6,"div",4),s.Ub(7,"form",5),s.Ub(8,"div",6),s.Ub(9,"label",7),s.Bc(10,"Filter by:"),s.Tb(),s.Pb(11,"input",8),s.Tb(),s.Ub(12,"div",9),s.Ub(13,"label",7),s.Bc(14,"Price:"),s.Tb(),s.Ub(15,"div",10),s.Ub(16,"span"),s.Bc(17,"$0"),s.Tb(),s.Ub(18,"div",11),s.Pb(19,"span",12),s.Pb(20,"span",13),s.Pb(21,"span",14),s.Tb(),s.Ub(22,"span"),s.Bc(23,"$4000"),s.Tb(),s.Tb(),s.Tb(),s.Ub(24,"div",6),s.Ub(25,"label",7),s.Bc(26,"Status:"),s.Tb(),s.Ub(27,"select",15),s.Ub(28,"option",16),s.Bc(29,"Enabled"),s.Tb(),s.Ub(30,"option",17),s.Bc(31,"Disabled"),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Ub(32,"div",18),s.Ub(33,"div",19),s.Ub(34,"div",20),s.Ub(35,"span"),s.Bc(36,"Image"),s.Tb(),s.Tb(),s.Ub(37,"div",20),s.Ub(38,"span"),s.Bc(39,"Name"),s.Tb(),s.Tb(),s.Ub(40,"div",20),s.Ub(41,"span"),s.Bc(42,"Description"),s.Tb(),s.Tb(),s.Ub(43,"div",20),s.Ub(44,"span"),s.Bc(45,"Price"),s.Tb(),s.Tb(),s.Ub(46,"div",20),s.Ub(47,"span"),s.Bc(48,"Subcategory"),s.Tb(),s.Tb(),s.Ub(49,"div",20),s.Ub(50,"span"),s.Bc(51,"Status"),s.Tb(),s.Tb(),s.Pb(52,"div",20),s.Tb(),s.Ub(53,"div",21),s.Ac(54,h,18,5,"div",22),s.hc(55,"async"),s.Tb(),s.Tb(),s.Tb()),2&t&&(s.Cb(54),s.lc("ngForOf",s.ic(55,1,e.products$)))},directives:[b.p,b.h,b.i,b.j,b.o,n.k,v.a],pipes:[n.b],styles:[""]}),t})()}];let U=(()=>{class t{}return t.\u0275mod=s.Mb({type:t}),t.\u0275inj=s.Lb({factory:function(e){return new(e||t)},imports:[[r.c.forChild(T)],r.c]}),t})();var g=c("snw9"),_=c("eIep"),B=c("lJxs"),P=c("JIr8"),y=c("EY2u");let C=(()=>{class t{constructor(t,e){this.actions=t,this.productsService=e,this.getProduct$=Object(g.c)(()=>this.actions.pipe(Object(g.d)(p.h),Object(_.a)(t=>this.productsService.getProducts(t).pipe(Object(B.a)(t=>Object(p.i)({products:t})),Object(P.a)(t=>(console.log(t),y.a)))))),this.createProduct$=Object(g.c)(()=>this.actions.pipe(Object(g.d)(p.b))),this.updateProduct$=Object(g.c)(()=>this.actions.pipe(Object(g.d)(p.k))),this.deleteProduct$=Object(g.c)(()=>this.actions.pipe(Object(g.d)(p.e)))}}return t.\u0275fac=function(e){return new(e||t)(s.Yb(g.a),s.Yb(o.a))},t.\u0275prov=s.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var O=c("s++N");c.d(e,"ProductsModule",(function(){return j}));let j=(()=>{class t{}return t.\u0275mod=s.Mb({type:t}),t.\u0275inj=s.Lb({factory:function(e){return new(e||t)},imports:[[U,i.a,f.j.forFeature("products",O.a),g.b.forFeature([C])],i.a]}),t})()}}]);